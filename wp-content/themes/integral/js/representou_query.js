var ViewObject;ViewObject=function(){function e(e){this.siteUrl=e,this.pDadosFiltrados=jQuery("#dados_filtrados"),this.pUf=jQuery("#filtro_uf"),this.pPartidos=jQuery("#filtro_partido"),this.pGeneros=jQuery("#filtro_genero"),this.pCores=jQuery("#filtro_cor"),this.pSituacoes=jQuery("#filtro_sit_eleitoral")}return e.prototype.desenhaDadosFiltradosVazio=function(e){var t;return t=jQuery("<h3>",{text:e}),this.pDadosFiltrados.html(t)},e.prototype._desenhaTabelaDados=function(e){var t,a;return a='<div class="row">',t=1,jQuery(e).each(function(e,r){var i,o,n,s;return a+='<div class="col-md-4">',n=null!=(i="eleito por média"===r.situacao_eleitoral.toLowerCase()||"eleito por qp"===r.situacao_eleitoral.toLowerCase())?i:{" eleito":""},s=null!=(o="eleito por média"===r.situacao_eleitoral.toLowerCase()||"eleito por qp"===r.situacao_eleitoral.toLowerCase())?o:{Eleito:r.situacao_eleitoral.toLowerCase()},a+="<div class='panel panel-default"+n+"'>",a+="<a target='_blank' href='"+siteUrl+"/politicos/?cand_id="+r.id_candidatura+"'>",a+='<div class="panel-body">',r.fb_id?a+="<img src='//graph.facebook.com/v2.6/"+r.fb_id+"/picture?type=large' class='img-responsive img-rounded' alt='"+r.nome_candidato+"' title='"+r.nome_candidato+"'>":a+="<img src='/wp-content/themes/integral/images/default-profile.jpg' class='img-responsive img-circle' alt='"+r.nome_candidato+"' title='"+r.nome_candidato+"'>",a+='<h4 class="title-name-politic">'+r.nome_urna+'</h4>\n      <ul class="list-unstyled">\n        <li>'+r.sigla_partido.toUpperCase()+"</li>\n        <li><b>"+r.nome_cidade.toUpperCase()+"/"+r.sigla_estado.toUpperCase()+"</b></li>\n        <li><b>Votos:</b>"+r.votos_recebidos.toLowerCase()+"</li>\n        <li><b>Situacao eleitoral:</b>"+s+"</li>\n      </ul>\n    </div>\n  </a>\n</div>",a+=t%3==0?'</div></div><div class="row">':"</div>",t++}),a+="</div>"},e.prototype._desenhaPainelPaginas=function(e){var t,a,r;return r=jQuery('<nav aria-label="Navegacion">'),a=e.first/e.quantity+1,t=jQuery("<ul>",{class:"pagination"}),Array.apply(null,{length:Math.ceil(e.count/e.quantity)}).map(Number.call,Number).forEach(function(e){var r,i,o,n;return n=e+1,i=n===a?"active":"",o=jQuery("<li>",{class:i}),n===a?r=jQuery("<a>",{text:n}):(r=jQuery("<a>",{text:n,href:"#"})).on("click",function(){return requisitaDados(n)}),r.appendTo(o),o.appendTo(t)}),t.appendTo(r),r},e.prototype._desenhaLinkDownload=function(){return jQuery("<a>",{text:"download",href:"#",class:"btn btn-default"}).on("click",downloadAllData)},e.prototype.desenhaDadosFiltrados=function(e){return this.pDadosFiltrados.html(this._desenhaTabelaDados(e.data)),this.pDadosFiltrados.append(this._desenhaPainelPaginas(e.pagination)),this.pDadosFiltrados.append(this._desenhaLinkDownload())},e.prototype._createHeader=function(e){return jQuery("<h3>",{text:e})},e.prototype._atualizaFiltroEstados=function(e){return pUf.html(this._createHeader("Estados")),e.forEach(function(e){var t;return(t=jQuery("<label>")).append(jQuery("<input>",{type:"checkbox",value:e.sigla,id:"estado_"+e.sigla,class:"chk_estado"})),t.append(e.sigla),this.pUf.append(t)})},e.prototype._atualizaFiltroPartidos=function(e){var t;return this.pPartidos.html(this._createHeader("Partidos")),t=jQuery("<ul>",{class:"list-unstyled list-inline"}),e.forEach(function(e){var a,r;return a=jQuery("<li>"),(r=jQuery("<label>")).append(jQuery("<input>",{type:"checkbox",value:e.id,id:"partido_"+e.sigla,class:"chk-partido"})),r.append(jQuery("<span>",{text:e.sigla})),a.append(r),this.pPartidos.append(t.append(a))})},e.prototype._linkRacaGenero=function(e){return jQuery("<a>",{href:"/genero-e-raca/"}).append(e)},e.prototype._atualizaFiltroGeneros=function(e){var t,a;return this.pGeneros.html(this._linkRacaGenero(this._createHeader("Gênero*"))),t=jQuery("<ul>",{class:"list-unstyled list-inline"}),e.filter(function(e){return""!==e.genero.trim()}).forEach(function(e){return jQuery("<li>")}),(a=jQuery("<label>")).append(jQuery("<input>",{type:"checkbox",value:elemento.genero,id:"genero_"+elemento.genero,class:"chk-genero"})),a.append(jQuery("<span>",{text:elemento.genero})),container_li.append(a),this.pGeneros.append(t.append(container_li))},e.prototype._atualizaFiltroCores=function(e){var t;return this.pCores.html(this._linkRacaGenero(this._createHeader("Raça*"))),t=jQuery("<ul>",{class:"list-unstyled list-inline"}),e.filter(function(e){return""!==e.cor_tse.trim()}).forEach(function(e){var a,r;return a=jQuery("<li>"),(r=jQuery("<label>")).append(jQuery("<input>",{type:"checkbox",value:e.cor_tse,id:"cutis_"+e.cor_tse,class:"chk-cor"})),r.append(jQuery("<span>",{text:e.cor_tse})),a.append(r),this.pCores.append(t.append(a))})},e.prototype._atualizaFiltroSituacoesEleitorais=function(e){var t;return this.pSituacoes.html(this._createHeader("Situações Eleitorais")),t=jQuery("<ul>",{class:"list-unstyled list-inline"}),e.filter(function(e){return null!==e.situacao_eleitoral&&""!==e.situacao_eleitoral.trim()}).forEach(function(e){var a,r;return a=jQuery("<li>"),(r=jQuery("<label>")).append(jQuery("<input>",{type:"checkbox",value:e.situacao_eleitoral,id:"situacao_"+e.situacao_eleitoral.replace(/\s/g,"_"),class:"chk-sit-eleit"})),r.append(e.situacao_eleitoral),a.append(r),this.pSituacoes.append(t.append(a))})},e.prototype.atualizaFiltros=function(e){return this._atualizaFiltroEstados(e.estados),this._atualizaFiltroPartidos(e.partidos),this._atualizaFiltroGeneros(e.generos),this._atualizaFiltroCores(e.cores),this._atualizaFiltroSituacoesEleitorais(e.situacoes_eleitorais)},e.prototype._marcaEstados=function(e){return e.forEach(function(e){return jQuery("#estado_"+e).attr("checked","checked")})},e.prototype._marcaPartidos=function(e){return e.forEach(function(e){return jQuery(".chk-partido[value='"+e+"']").attr("checked","checked")})},e.prototype._marcaGenero=function(e){return e.forEach(function(e){return jQuery(".chk-genero[value="+e+"]").attr("checked","checked")})},e.prototype._marcaCutis=function(e){return e.forEach(function(e){return jQuery("#cutis_"+e).attr("checked","checked")})},e.prototype._marcaSituacoesEleitorais=function(e){return e.forEach(function(e){return jQuery("#situacao_"+e.replace(/\s/g,"_")).attr("checked","checked")})},e.prototype.marcaFiltro=function(e){return void 0!==e.sigla_estado&&this._marcaEstados(e.sigla_estado),void 0!==e.id_partido&&this._marcaPartidos(e.id_partido),void 0!==e.genero&&this._marcaGenero(e.genero),void 0!==e.cor_tse&&this._marcaCutis(e.cor_tse),void 0!==e.situacao_eleitoral&&this._marcaSituacoesEleitorais(e.situacao_eleitoral),classe},e}();